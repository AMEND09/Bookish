import{a as We,b as qe,r as p,u as J,c as Ce,d as Ke,B as Xe,R as ze,e as Y}from"./vendor-U2VdypMN.js";import{B as L,A as Ne,T as Fe,P as z,H as de,a as Ge,S as Ve,b as me,c as Qe,U as Ze,d as et,C as G,e as tt,F as st,f as ye,g as xe,L as nt,h as at,i as H,X as _e,j as ve,I as ot,k as rt,l as it,m as lt,n as Z,o as ct,p as Re,q as dt,r as mt,M as xt,s as ht,t as Ie,u as we,v as he,w as ut,x as gt,y as ke,z as Ae,Z as ft,R as pt}from"./icons-D5AO0g5k.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function i(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(l){if(l.ep)return;l.ep=!0;const r=i(l);fetch(l.href,r)}})();var le={exports:{}},Q={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Se;function jt(){if(Se)return Q;Se=1;var s=We(),t=Symbol.for("react.element"),i=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function u(f,d,j){var o,h={},g=null,v=null;j!==void 0&&(g=""+j),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(v=d.ref);for(o in d)n.call(d,o)&&!r.hasOwnProperty(o)&&(h[o]=d[o]);if(f&&f.defaultProps)for(o in d=f.defaultProps,d)h[o]===void 0&&(h[o]=d[o]);return{$$typeof:t,type:f,key:g,ref:v,props:h,_owner:l.current}}return Q.Fragment=i,Q.jsx=u,Q.jsxs=u,Q}var Be;function bt(){return Be||(Be=1,le.exports=jt()),le.exports}var e=bt(),ae={},Ee;function Nt(){if(Ee)return ae;Ee=1;var s=qe();return ae.createRoot=s.createRoot,ae.hydrateRoot=s.hydrateRoot,ae}var yt=Nt();const fe="bookish_books",Me="bookish_current_book",Oe="bookish_reading_sessions",vt="bookish_notes",Pe="bookish_stats",$e="bookish_streak",ee=(s,t)=>{const i=localStorage.getItem(s);return i?JSON.parse(i):t},K=(s,t)=>{localStorage.setItem(s,JSON.stringify(t))},ie=()=>ee(fe,[]),wt=s=>{const t=ie(),i=t.findIndex(n=>n.key===s.key);i>=0?t[i]={...t[i],...s}:t.push(s),K(fe,t)},kt=s=>{const t=ie().filter(i=>i.key!==s);K(fe,t)},At=()=>ee(Me,null),St=s=>{K(Me,s)},te=()=>ee(Oe,[]),Bt=s=>{const t=te(),i=t.findIndex(n=>n.id===s.id);i>=0?t[i]=s:t.push(s),K(Oe,t),Ct(),_t()},ue=s=>te().filter(t=>t.bookId===s),pe=()=>{const s=localStorage.getItem("bookish_notes");return s?JSON.parse(s):[]},De=s=>{const t=pe(),i=t.findIndex(n=>n.id===s.id);i>=0?t[i]=s:t.push(s),localStorage.setItem("bookish_notes",JSON.stringify(t))},Et=s=>pe().filter(t=>t.bookId===s),Dt=s=>{const t=pe().filter(i=>i.id!==s);K(vt,t)},Tt=()=>({totalBooksRead:0,totalPagesRead:0,totalReadingTime:0,readingTimeToday:0,readingTimeThisWeek:0,booksFinishedThisYear:0}),Le=()=>ee(Pe,Tt()),Ct=()=>{const s=te(),t=ie(),i=s.reduce((h,g)=>h+(g.duration||0),0),n=new Date().setHours(0,0,0,0),l=s.reduce((h,g)=>new Date(g.startTime).setHours(0,0,0,0)===n?h+(g.duration||0):h,0),r=new Date;r.setDate(r.getDate()-r.getDay()),r.setHours(0,0,0,0);const u=s.reduce((h,g)=>new Date(g.startTime)>=r?h+(g.duration||0):h,0),f=s.reduce((h,g)=>h+((g.endPage||0)-(g.startPage||0)),0),d=new Date(new Date().getFullYear(),0,1),j=new Set;s.forEach(h=>{if(new Date(h.startTime)>=d&&h.endPage){const v=t.find(C=>C.key===h.bookId);v&&v.number_of_pages_median&&h.endPage>=v.number_of_pages_median&&j.add(h.bookId)}});const o={totalBooksRead:j.size,totalPagesRead:f,totalReadingTime:i,readingTimeToday:l,readingTimeThisWeek:u,booksFinishedThisYear:j.size};K(Pe,o)},Ft=()=>({currentStreak:0,longestStreak:0,lastReadDate:null}),je=()=>ee($e,Ft()),_t=()=>{const s=je(),t=new Date().setHours(0,0,0,0),i=s.lastReadDate?new Date(s.lastReadDate).setHours(0,0,0,0):null;if(i===t)return;let n=s.currentStreak;if(i){const r=new Date;r.setDate(r.getDate()-1),r.setHours(0,0,0,0),i===r.getTime()?n+=1:n=1}else n=1;const l={currentStreak:n,longestStreak:Math.max(n,s.longestStreak),lastReadDate:new Date().toISOString()};K($e,l)},Je=p.createContext(void 0),X=()=>{const s=p.useContext(Je);if(!s)throw new Error("useBooks must be used within a BookProvider");return s},Rt=({children:s})=>{const[t,i]=p.useState([]),[n,l]=p.useState(null),[r,u]=p.useState([]),[f,d]=p.useState([]);p.useEffect(()=>{i(ie()),l(At())},[]),p.useEffect(()=>{n?(u(ue(n.key)),d(Et(n.key))):(u([]),d([]))},[n]);const j=b=>{wt(b),i(S=>{const k=S.findIndex(w=>w.key===b.key);if(k>=0){const w=[...S];return w[k]=b,w}else return[...S,b]})},o=b=>{kt(b),i(S=>S.filter(k=>k.key!==b)),n&&n.key===b&&h(null)},h=b=>{St(b),l(b)},g=b=>{Bt(b),u(S=>{const k=S.findIndex(w=>w.id===b.id);if(k>=0){const w=[...S];return w[k]=b,w}else return[...S,b]})},v=b=>{De(b),d(S=>[...S,b])},C=b=>{De(b),d(S=>S.map(k=>k.id===b.id?b:k))},D=b=>{Dt(b),d(S=>S.filter(k=>k.id!==b))};return e.jsx(Je.Provider,{value:{books:t,currentBook:n,sessions:r,notes:f,addBook:j,removeBook:o,setActiveBook:h,addSession:g,addNote:v,updateNote:C,deleteNote:D},children:s})},Ye=p.createContext(void 0),V=()=>{const s=p.useContext(Ye);if(!s)throw new Error("usePet must be used within a PetProvider");return s},ge=()=>({name:"Bookworm",level:1,experience:0,experienceToNext:100,happiness:100,hunger:50,energy:100,health:100,points:10,lastFed:new Date().toISOString(),lastPlayed:new Date().toISOString(),lastSlept:new Date().toISOString(),createdAt:new Date().toISOString(),totalBooksRead:0,totalReadingTime:0,evolutionStage:"egg",badges:[],mood:"content"}),Ue=()=>({booksReadToday:0,readingTimeToday:0,streakDays:0,lastActiveDate:new Date().toISOString()}),It=()=>{try{const s=localStorage.getItem("bookish_pet");if(s){const t=JSON.parse(s);return{...ge(),...t}}}catch(s){console.error("Error loading pet from storage:",s)}return ge()},Mt=()=>{try{const s=localStorage.getItem("bookish_pet_stats");if(s)return JSON.parse(s)}catch(s){console.error("Error loading pet stats from storage:",s)}return Ue()},Ot=s=>{localStorage.setItem("bookish_pet",JSON.stringify(s))},Pt=s=>{localStorage.setItem("bookish_pet_stats",JSON.stringify(s))},$t=({children:s})=>{const[t,i]=p.useState(It),[n,l]=p.useState(Mt);p.useEffect(()=>{Ot(t)},[t]),p.useEffect(()=>{Pt(n)},[n]),p.useEffect(()=>{const c=setInterval(()=>{const a=new Date,m=new Date(t.lastFed),N=(a.getTime()-m.getTime())/(1e3*60*60);N>1&&i(T=>{const E=Math.floor(N);return{...T,hunger:Math.max(0,T.hunger-E*2),energy:Math.max(0,T.energy-E),happiness:Math.max(0,T.happiness-E),mood:r(Math.max(0,T.happiness-E),Math.max(0,T.hunger-E*2),Math.max(0,T.energy-E))}});const x=a.toDateString(),A=new Date(n.lastActiveDate).toDateString();x!==A&&l(T=>({...T,booksReadToday:0,readingTimeToday:0,lastActiveDate:a.toISOString()}))},3e4);return()=>clearInterval(c)},[t.lastFed,n.lastActiveDate]);const r=(c,a,m)=>a<20?"hungry":m<20?"sleepy":c>80?"happy":c>60?"excited":c<30?"sad":"content",u=c=>100+c*50,f=(c,a)=>{let m=a,N=u(m);for(;c>=N;)m++,N=u(m);return{newLevel:m,newExpToNext:N}},d=c=>c<3?"egg":c<8?"baby":c<15?"child":c<25?"teen":c<40?"adult":"elder",j=()=>{const c=t.evolutionStage,a=t.mood,m={egg:{happy:"🥚",content:"🥚",sad:"💔",excited:"✨",sleepy:"😴",hungry:"🥚"},baby:{happy:"😊",content:"🐛",sad:"😢",excited:"🤩",sleepy:"😴",hungry:"😋"},child:{happy:"😄",content:"🐯",sad:"😭",excited:"🤗",sleepy:"💤",hungry:"🍎"},teen:{happy:"😎",content:"🦊",sad:"😔",excited:"🚀",sleepy:"😪",hungry:"🍕"},adult:{happy:"🌟",content:"🦉",sad:"😞",excited:"🎉",sleepy:"😌",hungry:"🍽️"},elder:{happy:"👑",content:"🐉",sad:"😟",excited:"🎊",sleepy:"🧘",hungry:"🍱"}};return m[c][a]||m[c].content},o=()=>{i(c=>{if(c.points<3)return c;const a=Math.min(100,c.hunger+30),m=Math.min(100,c.happiness+10),N=c.experience+5,{newLevel:x,newExpToNext:A}=f(N,c.level);return{...c,hunger:a,happiness:m,experience:N,level:x,experienceToNext:A,points:c.points-3,lastFed:new Date().toISOString(),evolutionStage:d(x),mood:r(m,a,c.energy)}})},h=()=>{i(c=>{if(c.points<5)return c;const a=Math.min(100,c.happiness+20),m=Math.max(0,c.energy-15),N=c.experience+10,{newLevel:x,newExpToNext:A}=f(N,c.level);return{...c,happiness:a,energy:m,experience:N,level:x,experienceToNext:A,points:c.points-5,lastPlayed:new Date().toISOString(),evolutionStage:d(x),mood:r(a,c.hunger,m)}})},g=()=>{i(c=>{const a=Math.min(100,c.energy+40),m=Math.min(100,c.health+10);return{...c,energy:a,health:m,lastSlept:new Date().toISOString(),mood:r(c.happiness,c.hunger,a)}})},v=c=>{i(a=>{const m=Math.floor(c/5)*2,N=Math.floor(c/10),x=Math.floor(c/10),A=a.experience+m,T=Math.min(100,a.happiness+N),E=a.totalReadingTime+c,{newLevel:$,newExpToNext:W}=f(A,a.level);return{...a,experience:A,level:$,experienceToNext:W,happiness:T,points:a.points+x,totalReadingTime:E,evolutionStage:d($),mood:r(T,a.hunger,a.energy)}}),l(a=>({...a,readingTimeToday:a.readingTimeToday+c,lastActiveDate:new Date().toISOString()}))},C=()=>{i(c=>{const a=c.experience+50,m=Math.min(100,c.happiness+25),N=c.totalBooksRead+1,x=20,{newLevel:A,newExpToNext:T}=f(a,c.level),E=[...c.badges];return N===1&&!E.includes("first-book")&&E.push("first-book"),N===10&&!E.includes("book-lover")&&E.push("book-lover"),N===50&&!E.includes("bookworm")&&E.push("bookworm"),{...c,experience:a,level:A,experienceToNext:T,happiness:m,points:c.points+x,totalBooksRead:N,badges:E,evolutionStage:d(A),mood:r(m,c.hunger,c.energy)}}),l(c=>({...c,booksReadToday:c.booksReadToday+1,lastActiveDate:new Date().toISOString()}))},D=()=>({happy:"Your pet is very happy! Keep up the great reading!",excited:"Your pet is excited about your reading progress!",content:"Your pet is content and enjoying your company.",sad:"Your pet seems sad. Try feeding or playing with them!",sleepy:"Your pet is tired. Maybe they need some rest?",hungry:"Your pet is hungry! Don't forget to feed them."})[t.mood],b=()=>{const c=d(t.level+1),a=t.level<3?3:t.level<8?8:t.level<15?15:t.level<25?25:40;return{current:t.level,required:a,stage:c}},S=()=>{const c=t.level<3?3:t.level<8?8:t.level<15?15:t.level<25?25:40;return t.level>=c&&t.evolutionStage!==d(t.level)},k=()=>{i(c=>({...c,evolutionStage:d(c.level),happiness:100,health:100}))},w=()=>{const c=ge();i(c),l(Ue())},_=c=>{i(a=>({...a,name:c}))},O=()=>t.happiness<30?"sad":t.happiness<70?"neutral":"happy",P=()=>t.experience/t.experienceToNext*100;return e.jsx(Ye.Provider,{value:{pet:t,petStats:n,feedPet:o,playWithPet:h,petSleep:g,updatePetFromReading:v,updatePetFromBookCompletion:C,getPetMood:D,getPetEvolutionRequirement:b,resetPet:w,updatePetName:_,getPetEmoji:j,canEvolve:S,evolvePet:k,getPetHappinessLevel:O,getLevelProgress:P},children:s})},Lt=()=>{const s=J(),t=[{icon:L,title:"Track Your Reading",description:"Organize your books into 'Want to Read', 'Currently Reading', and 'Completed' categories with beautiful progress tracking."},{icon:Fe,title:"Reading Sessions",description:"Time your reading sessions and watch your progress grow. See exactly how much time you've invested in each book."},{icon:z,title:"Take Notes",description:"Capture your thoughts, favorite quotes, and insights as you read. Never lose track of those brilliant moments."},{icon:de,title:"Virtual Pet Companion",description:"Care for your adorable reading companion that grows and evolves as you complete books and reading sessions."},{icon:Ge,title:"Achievement System",description:"Unlock achievements and watch your reading streaks grow. Gamify your reading journey and stay motivated."},{icon:Ve,title:"Beautiful Interface",description:"Enjoy a warm, book-inspired design that makes reading tracking a delightful experience every day."}],i=[{icon:me,title:"Build Better Habits",description:"Turn reading into a consistent, rewarding habit with gentle gamification and progress tracking."},{icon:Qe,title:"Stay Motivated",description:"Your virtual pet and achievement system keep you engaged and excited about your reading journey."},{icon:Ze,title:"Mindful Reading",description:"Take notes and track your thoughts to engage more deeply with every book you read."}];return e.jsxs("div",{className:"min-h-screen bg-[#F7F5F3] max-w-full overflow-x-hidden",children:[e.jsx("div",{className:"relative overflow-hidden",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-[#8B7355] rounded-2xl flex items-center justify-center",children:e.jsx(L,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"font-serif text-4xl lg:text-6xl font-bold text-[#3A3A3A] mb-2",children:"Bookish"}),e.jsx("p",{className:"text-lg lg:text-xl text-[#8B7355] font-medium",children:"Your Reading Companion"})]}),e.jsxs("div",{className:"text-center mb-8 max-w-2xl mx-auto",children:[e.jsx("h2",{className:"font-serif text-2xl lg:text-3xl font-medium text-[#3A3A3A] mb-4 leading-tight",children:"Transform Your Reading Journey with a Delightful Digital Companion"}),e.jsx("p",{className:"text-[#8B7355] leading-relaxed mb-6 text-base lg:text-lg",children:"Track your books, time your sessions, take meaningful notes, and care for your virtual pet as you build the reading habit you've always wanted."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs("button",{onClick:()=>s("/"),className:"bg-[#8B7355] text-white px-8 py-4 rounded-xl font-medium text-lg flex items-center gap-2 justify-center hover:bg-[#7A6349] transition-colors shadow-lg",children:["Start Reading Today",e.jsx(Ne,{className:"w-5 h-5"})]}),e.jsx("button",{onClick:()=>s("/search"),className:"bg-transparent border-2 border-[#8B7355] text-[#8B7355] px-8 py-4 rounded-xl font-medium text-lg hover:bg-[#8B7355] hover:text-white transition-colors",children:"Browse Books"})]})]}),e.jsx("div",{className:"relative mb-12 max-w-md mx-auto",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 border-4 border-[#F0EDE8]",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),e.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-[#F0EDE8] rounded w-3/4"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-12 h-16 bg-[#8B7355] rounded"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-3 bg-[#F0EDE8] rounded w-full"}),e.jsx("div",{className:"h-2 bg-[#F0EDE8] rounded w-2/3"}),e.jsx("div",{className:"h-2 bg-[#E59554] rounded w-1/2"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-12 h-16 bg-[#D2691E] rounded"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-3 bg-[#F0EDE8] rounded w-full"}),e.jsx("div",{className:"h-2 bg-[#F0EDE8] rounded w-2/3"}),e.jsx("div",{className:"h-2 bg-[#E59554] rounded w-3/4"})]})]})]})]})})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h3",{className:"font-serif text-2xl lg:text-3xl font-medium text-[#3A3A3A] mb-3",children:"Everything You Need"}),e.jsx("p",{className:"text-[#8B7355] text-base lg:text-lg",children:"Powerful features designed to enhance your reading experience"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((n,l)=>e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-[#F0EDE8] rounded-xl flex items-center justify-center mb-4",children:e.jsx(n.icon,{className:"w-8 h-8 text-[#8B7355]"})}),e.jsx("h4",{className:"font-serif font-medium text-[#3A3A3A] mb-3 text-lg",children:n.title}),e.jsx("p",{className:"text-sm text-[#8B7355] leading-relaxed",children:n.description})]})},l))})]}),e.jsx("div",{className:"bg-[#F0EDE8] py-16",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h3",{className:"font-serif text-2xl lg:text-3xl font-medium text-[#3A3A3A] mb-3",children:"Why Choose Bookish?"}),e.jsx("p",{className:"text-[#8B7355] text-base lg:text-lg",children:"Join thousands of readers who've transformed their reading habits"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map((n,l)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-[#8B7355] rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(n.icon,{className:"w-10 h-10 text-white"})}),e.jsx("h4",{className:"font-serif font-medium text-[#3A3A3A] mb-3 text-lg",children:n.title}),e.jsx("p",{className:"text-sm text-[#8B7355] leading-relaxed",children:n.description})]},l))})]})}),e.jsx("div",{className:"max-w-4xl mx-auto px-6 py-16 lg:px-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-[#8B7355] to-[#D2691E] rounded-2xl p-8 lg:p-12 text-white text-center",children:[e.jsx("h3",{className:"font-serif text-xl lg:text-2xl font-medium mb-8",children:"Join the Reading Revolution"}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl lg:text-4xl font-bold mb-1",children:"10K+"}),e.jsx("div",{className:"text-sm opacity-90",children:"Books Tracked"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl lg:text-4xl font-bold mb-1",children:"5K+"}),e.jsx("div",{className:"text-sm opacity-90",children:"Happy Readers"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl lg:text-4xl font-bold mb-1",children:"50K+"}),e.jsx("div",{className:"text-sm opacity-90",children:"Reading Hours"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl lg:text-4xl font-bold mb-1",children:"25K+"}),e.jsx("div",{className:"text-sm opacity-90",children:"Notes Written"})]})]}),e.jsxs("button",{onClick:()=>s("/"),className:"bg-white text-[#8B7355] px-8 py-4 rounded-xl font-medium flex items-center gap-2 mx-auto hover:bg-gray-50 transition-colors text-lg",children:["Get Started Free",e.jsx(Ne,{className:"w-5 h-5"})]})]})}),e.jsx("div",{className:"bg-[#3A3A3A] py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center lg:px-8",children:[e.jsx("h3",{className:"font-serif text-2xl lg:text-3xl font-medium text-white mb-4",children:"Ready to Begin?"}),e.jsx("p",{className:"text-gray-300 mb-8 leading-relaxed text-base lg:text-lg max-w-2xl mx-auto",children:"Start your reading journey today. Search for your first book, meet your virtual companion, and begin building the reading habit that will last a lifetime."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center max-w-md mx-auto",children:[e.jsx("button",{onClick:()=>s("/"),className:"flex-1 bg-[#D2691E] text-white px-6 py-4 rounded-xl font-medium hover:bg-[#B8541A] transition-colors",children:"Start Your Journey"}),e.jsx("button",{onClick:()=>s("/library"),className:"flex-1 bg-transparent border-2 border-gray-500 text-gray-300 px-6 py-4 rounded-xl font-medium hover:border-gray-400 hover:text-gray-200 transition-colors",children:"View Library"})]})]})})]})},Jt=({greeting:s})=>{const t=J(),{pet:i}=V(),n=()=>{const l=i.mood;return{happy:"😊",excited:"🤩",content:"😌",sad:"😢",sleepy:"😴",hungry:"🍎"}[l]||"😌"};return e.jsx("header",{className:"p-4 bg-[#F7F5F3]",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-serif text-xl font-medium text-[#3A3A3A]",children:s}),e.jsx("p",{className:"text-sm text-[#8B7355]",children:"Ready to dive into a story?"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-[#F0EDE8] rounded-lg px-3 py-2 cursor-pointer hover:bg-[#E8E3DD] transition-colors",onClick:()=>t("/pet"),children:[e.jsx("span",{className:"text-lg",children:n()}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-medium text-[#3A3A3A]",children:i.name}),e.jsxs("p",{className:"text-xs text-[#8B7355]",children:["Lv.",i.level]})]})]}),e.jsx("button",{className:"w-8 h-8 rounded-full bg-[#F0EDE8] flex items-center justify-center",children:e.jsx(et,{className:"w-5 h-5 text-[#8B7355]"})})]})]})})},Yt=({onContinueReading:s})=>{const{currentBook:t,sessions:i}=X();if(!t)return e.jsx("div",{className:"p-4 bg-[#F0EDE8] rounded-xl shadow-sm",children:e.jsx("div",{className:"flex items-center justify-center p-6 border-2 border-dashed border-[#8B7355] rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx(L,{className:"w-8 h-8 mx-auto text-[#8B7355] mb-2"}),e.jsx("h3",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-1",children:"No book selected"}),e.jsx("p",{className:"text-sm text-[#8B7355]",children:"Search for a book to start reading"})]})})});const n=[...i].sort((f,d)=>new Date(d.startTime).getTime()-new Date(f.startTime).getTime())[0],l=(n==null?void 0:n.endPage)||(n==null?void 0:n.startPage)||1,r=t.number_of_pages_median||0,u=r>0?Math.min(Math.round(l/r*100),100):0;return e.jsxs("div",{className:"p-4 bg-[#F0EDE8] rounded-xl shadow-sm",children:[e.jsx("h2",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-3",children:"Currently Reading"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-24 h-36 rounded-md overflow-hidden shadow-md flex-shrink-0",children:t.cover_i?e.jsx("img",{src:`https://covers.openlibrary.org/b/id/${t.cover_i}-M.jpg`,alt:t.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-[#8B7355] flex items-center justify-center text-white p-2",children:e.jsx("span",{className:"text-xs text-center font-serif",children:t.title})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-serif text-base font-medium text-[#3A3A3A] line-clamp-2 mb-1",children:t.title}),t.author_name&&t.author_name.length>0&&e.jsxs("p",{className:"text-sm text-[#8B7355] mb-2",children:["by ",t.author_name[0]]}),r>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#8B7355] mb-2",children:[e.jsxs("span",{children:[u,"%"]}),e.jsx("div",{className:"flex-1 h-1.5 bg-[#F7F5F3] rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-[#E59554] rounded-full transition-all duration-300 ease-out",style:{width:`${u}%`}})})]}),e.jsxs("div",{className:"text-xs text-[#8B7355] mb-4",children:["Page ",l," of ",r]})]}),r===0&&e.jsx("div",{className:"text-xs text-[#8B7355] mb-4",children:"Page count unavailable"}),e.jsxs("button",{onClick:s,className:"w-full py-2 px-4 bg-[#D2691E] text-white rounded-lg text-sm font-medium hover:bg-[#A0522D] transition-colors flex items-center justify-center gap-2",children:[e.jsx(L,{className:"w-4 h-4"}),"Continue Reading"]})]})]})]})},oe=({icon:s,value:t,label:i,color:n})=>e.jsxs("div",{className:"flex flex-col items-center p-3 bg-white rounded-xl shadow-sm",children:[e.jsx("div",{className:`w-8 h-8 flex items-center justify-center rounded-full ${n} mb-1`,children:s}),e.jsx("span",{className:"font-serif text-lg font-medium text-[#3A3A3A]",children:t}),e.jsx("span",{className:"text-xs text-[#8B7355]",children:i})]}),Ut=()=>{const s=Le(),t=je(),i=n=>{if(n<60)return`${n} min`;const l=Math.floor(n/60),r=n%60;return r===0?`${l} hrs`:`${l}.${Math.floor(r/6)}`};return e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(oe,{icon:e.jsx(G,{className:"w-5 h-5 text-white"}),value:i(s.readingTimeToday),label:"Today",color:"bg-[#E59554]"}),e.jsx(oe,{icon:e.jsx(G,{className:"w-5 h-5 text-white"}),value:i(s.readingTimeThisWeek),label:"This Week",color:"bg-[#CD853F]"}),e.jsx(oe,{icon:e.jsx(tt,{className:"w-5 h-5 text-white"}),value:s.totalBooksRead,label:"Books Read",color:"bg-[#8B7355]"}),e.jsx(oe,{icon:e.jsx(st,{className:"w-5 h-5 text-white"}),value:t.currentStreak,label:"Streak",color:"bg-[#D2691E]"})]})},re=({icon:s,label:t,onClick:i})=>e.jsxs("button",{onClick:i,className:"flex flex-col items-center justify-center p-4 bg-white rounded-xl shadow-sm hover:bg-[#F0EDE8] transition-colors",children:[e.jsx("div",{className:"w-10 h-10 flex items-center justify-center rounded-full bg-[#F7F5F3] mb-2",children:e.jsx(s,{className:"w-5 h-5 text-[#8B7355]"})}),e.jsx("span",{className:"text-sm text-[#3A3A3A]",children:t})]}),Ht=({type:s,title:t,timestamp:i,duration:n})=>{const l=()=>{switch(s){case"reading":return e.jsx(G,{className:"w-4 h-4 text-[#E59554]"});case"note":return e.jsx(ye,{className:"w-4 h-4 text-[#8B7355]"});case"completed":return e.jsx(ye,{className:"w-4 h-4 text-[#D2691E]"})}},r=u=>{const f=new Date,d=new Date(u),j=Math.floor((f.getTime()-d.getTime())/(1e3*60));if(j<1)return"just now";if(j<60)return`${j} minute${j===1?"":"s"} ago`;const o=Math.floor(j/60);if(o<24)return`${o} hour${o===1?"":"s"} ago`;const h=Math.floor(o/24);return`${h} day${h===1?"":"s"} ago`};return e.jsxs("div",{className:"flex items-center gap-3 p-3 border-b border-[#F0EDE8]",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-[#F7F5F3] flex items-center justify-center flex-shrink-0",children:l()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-[#3A3A3A]",children:t}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#8B7355]",children:[e.jsx("span",{children:r(i)}),n&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsxs("span",{children:[n," min"]})]})]})]})]})},Wt=()=>{const s=J(),i=[...te()].sort((l,r)=>new Date(r.startTime).getTime()-new Date(l.startTime).getTime()).slice(0,5),n=()=>{const l=new Date().getHours();return l<12?"Good morning":l<18?"Good afternoon":"Good evening"};return e.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-[#F7F5F3] pb-6",children:[e.jsx(Jt,{greeting:n()}),e.jsxs("main",{className:"px-4 py-2 space-y-6",children:[e.jsx(Yt,{onContinueReading:()=>s("/reading")}),e.jsxs("section",{children:[e.jsx("h2",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-3",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(re,{icon:xe,label:"Find Books",onClick:()=>s("/search")}),e.jsx(re,{icon:z,label:"My Notes",onClick:()=>s("/notes")}),e.jsx(re,{icon:nt,label:"My Library",onClick:()=>s("/library")}),e.jsx(re,{icon:at,label:"Statistics",onClick:()=>s("/stats")})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-3",children:"Your Progress"}),e.jsx(Ut,{})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-1",children:"Recent Activity"}),i.length>0?e.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:i.map(l=>e.jsx(Ht,{type:"reading",title:"Reading session completed",timestamp:l.endTime||l.startTime,duration:l.duration||0},l.id))}):e.jsx("p",{className:"text-sm text-[#8B7355] p-4 bg-white rounded-xl shadow-sm",children:"No recent activity. Start reading to track your progress!"})]}),e.jsx("section",{className:"text-center py-4",children:e.jsx("button",{onClick:()=>s("/welcome"),className:"text-sm text-[#8B7355] hover:text-[#3A3A3A] transition-colors underline",children:"Learn more about Bookish features"})})]})]})},He="https://openlibrary.org",qt=async s=>{try{return(await(await fetch(`${He}/search.json?q=${encodeURIComponent(s)}&limit=10`)).json()).docs.map(n=>({key:n.key,title:n.title,author_name:n.author_name,cover_i:n.cover_i,first_publish_year:n.first_publish_year,number_of_pages_median:n.number_of_pages_median}))}catch(t){return console.error("Error searching books:",t),[]}},Kt=async s=>{var t,i,n;try{const l=s.replace("/works/",""),u=await(await fetch(`${He}/works/${l}.json`)).json();return{key:u.key,title:u.title,author_name:((t=u.authors)==null?void 0:t.map(f=>f.name))||[],cover_i:(i=u.covers)==null?void 0:i[0],first_publish_year:u.first_publish_year,description:((n=u.description)==null?void 0:n.value)||u.description||"",number_of_pages_median:u.number_of_pages_median}}catch(l){return console.error("Error fetching book details:",l),null}},Xt=(s,t="M")=>s?`https://covers.openlibrary.org/b/id/${s}-${{S:"small",M:"medium",L:"large"}[t]}.jpg`:"/placeholder-cover.jpg",zt=()=>{const s=J(),[t,i]=p.useState(""),[n,l]=p.useState([]),[r,u]=p.useState(!1),f=async o=>{if(o.preventDefault(),!!t.trim()){u(!0);try{const h=await qt(t);l(h)}catch(h){console.error("Error searching books:",h)}finally{u(!1)}}},d=o=>{s(`/book?book=${o.key}`,{state:{bookData:o}})},j=o=>e.jsxs("button",{onClick:()=>d(o),className:"w-full flex items-center gap-3 p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow text-left",children:[e.jsxs("div",{className:"w-12 h-16 bg-[#F0EDE8] rounded flex-shrink-0 overflow-hidden",children:[o.cover_i?e.jsx("img",{src:`https://covers.openlibrary.org/b/id/${o.cover_i}-M.jpg`,alt:o.title,className:"w-full h-full object-cover",onError:h=>{var v;const g=h.target;g.style.display="none",(v=g.nextElementSibling)==null||v.classList.remove("hidden")}}):null,e.jsx("div",{className:`w-full h-full flex items-center justify-center ${o.cover_i?"hidden":""}`,children:e.jsx(L,{className:"w-6 h-6 text-[#8B7355]"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-serif font-medium text-[#3A3A3A] text-sm leading-tight mb-1 truncate",children:o.title}),o.author_name&&e.jsxs("p",{className:"text-xs text-[#8B7355] mb-2 truncate",children:["by ",o.author_name[0]]}),o.first_publish_year&&e.jsx("p",{className:"text-xs text-[#8B7355]",children:o.first_publish_year})]})]},o.key);return e.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-[#F7F5F3] pb-6",children:[e.jsxs("header",{className:"p-4 bg-[#F0EDE8] flex items-center gap-3 shadow-sm",children:[e.jsx("button",{onClick:()=>s(-1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-[#F7F5F3] transition-colors",children:e.jsx(H,{className:"w-5 h-5 text-[#8B7355]"})}),e.jsxs("form",{onSubmit:f,className:"flex-1 relative",children:[e.jsx("input",{type:"text",value:t,onChange:o=>i(o.target.value),placeholder:"Search for books...",className:"w-full py-2 px-4 pr-10 bg-white border border-[#E5E5E5] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#E59554] text-[#3A3A3A]"}),e.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-7 h-7 flex items-center justify-center rounded-full bg-[#E59554] text-white",children:e.jsx(xe,{className:"w-4 h-4"})})]})]}),e.jsx("main",{className:"px-4 py-4",children:r?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-[#E59554]"})}):n.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"font-serif text-lg font-medium text-[#3A3A3A]",children:"Search Results"}),e.jsx("div",{className:"space-y-3",children:n.map(o=>j(o))})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center",children:[e.jsx(xe,{className:"w-12 h-12 text-[#8B7355] mb-4 opacity-70"}),e.jsx("h2",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-2",children:"Find your next great read"}),e.jsx("p",{className:"text-sm text-[#8B7355] max-w-xs",children:"Search for books by title, author, or ISBN to add them to your library."})]})})]})},se=({isOpen:s,onClose:t,onConfirm:i,title:n,message:l,type:r="confirm",confirmText:u="Confirm",cancelText:f="Cancel"})=>{if(!s)return null;const d=()=>{switch(r){case"alert":return e.jsx(ve,{className:"w-8 h-8 text-red-500"});case"success":return e.jsx(rt,{className:"w-8 h-8 text-green-500"});case"info":return e.jsx(ot,{className:"w-8 h-8 text-blue-500"});default:return e.jsx(ve,{className:"w-8 h-8 text-[#D2691E]"})}},j=()=>{i&&i(),t()};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-sm mx-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d(),e.jsx("div",{className:"flex-1",children:e.jsx("h3",{className:"font-serif text-lg font-medium text-[#3A3A3A]",children:n})}),e.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-[#F0EDE8] transition-colors",children:e.jsx(_e,{className:"w-5 h-5 text-[#8B7355]"})})]}),e.jsx("p",{className:"text-sm text-[#3A3A3A] leading-relaxed mb-6",children:l}),e.jsxs("div",{className:"flex gap-3",children:[r==="confirm"&&e.jsx("button",{onClick:t,className:"flex-1 py-3 px-4 bg-[#F0EDE8] text-[#8B7355] rounded-lg font-medium text-sm hover:bg-[#E8E3DD] transition-colors",children:f}),e.jsx("button",{onClick:j,className:`flex-1 py-3 px-4 rounded-lg font-medium text-sm transition-colors ${r==="success"?"bg-green-600 text-white hover:bg-green-700":r==="alert"?"bg-red-600 text-white hover:bg-red-700":"bg-[#D2691E] text-white hover:bg-[#B8541A]"}`,children:r==="confirm"?u:"OK"})]})]})})})},ne=()=>{const[s,t]=p.useState(!1),[i,n]=p.useState({title:"",message:""}),[l,r]=p.useState(null);return{isOpen:s,config:i,onConfirm:l,close:()=>{t(!1),r(null)},showConfirm:(j,o,h,g)=>{n({title:j,message:o,type:"confirm",confirmText:g==null?void 0:g.confirmText,cancelText:g==null?void 0:g.cancelText}),r(()=>h),t(!0)},showAlert:(j,o,h="info")=>{n({title:j,message:o,type:h}),r(null),t(!0)}}},Gt=()=>{const s=J(),[t]=Ce(),i=Ke(),{books:n,setActiveBook:l,sessions:r,notes:u}=X(),{updatePetFromBookCompletion:f}=V(),[d,j]=p.useState(!1),[o,h]=p.useState(null),[g,v]=p.useState(!1),[C,D]=p.useState(!1),[b,S]=p.useState(!1),k=ne(),w=t.get("book");if(p.useEffect(()=>{var y;if((y=i.state)!=null&&y.bookData)h(i.state.bookData);else{const B=n.find(R=>R.key===w);if(B)h(B);else{s("/");return}}},[w,n,i.state,s]),p.useEffect(()=>{if(o){const B=JSON.parse(localStorage.getItem("bookish_books")||"[]").some(R=>R.key===o.key);v(B),o.description||(j(!0),Kt(o.key).then(R=>{R&&h(M=>({...M,description:R.description,number_of_pages_median:R.number_of_pages_median||M.number_of_pages_median}))}).catch(R=>{console.error("Error fetching book details:",R)}).finally(()=>{j(!1)}))}},[o]),!o)return e.jsx("div",{className:"max-w-md mx-auto min-h-screen bg-[#F7F5F3] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[#8B7355] mb-4",children:"Book not found"}),e.jsx("button",{onClick:()=>s("/search"),className:"bg-[#8B7355] text-white px-6 py-3 rounded-xl font-medium",children:"Back to Search"})]})});const _=y=>{const B=JSON.parse(localStorage.getItem("bookish_books")||"[]");if(!B.some(R=>R.key===o.key)){const R={...o,category:y,dateAdded:new Date().toISOString()};B.push(R),localStorage.setItem("bookish_books",JSON.stringify(B));const M=JSON.parse(localStorage.getItem("myBooks")||"[]");M.some(U=>U.key===o.key)||(M.push(R),localStorage.setItem("myBooks",JSON.stringify(M))),v(!0),D(!1),y==="currently-reading"&&(l(o),s("/reading"))}},O=()=>{k.showConfirm("Mark as Completed","Mark this book as completed? This will give your pet a big experience boost!",()=>{var U;const B=JSON.parse(localStorage.getItem("bookish_books")||"[]").map(q=>q.key===o.key?{...q,category:"completed",completedAt:new Date().toISOString()}:q);localStorage.setItem("bookish_books",JSON.stringify(B));const M=JSON.parse(localStorage.getItem("myBooks")||"[]").map(q=>q.key===o.key?{...q,category:"completed",completedAt:new Date().toISOString()}:q);localStorage.setItem("myBooks",JSON.stringify(M)),f(),o.key===((U=JSON.parse(localStorage.getItem("bookish_current_book")||"null"))==null?void 0:U.key)&&l(null),k.showAlert("Congratulations!","🎉 You've completed the book and your pet gained experience!","success"),setTimeout(()=>{s("/library")},1500)},{confirmText:"Mark Complete",cancelText:"Cancel"})},P=o.number_of_pages_median||0,c=[...r].filter(y=>y.bookId===o.key).sort((y,B)=>new Date(B.startTime).getTime()-new Date(y.startTime).getTime())[0],a=(c==null?void 0:c.endPage)||(c==null?void 0:c.startPage)||1,m=P>0?Math.min(Math.round(a/P*100),100):0,N=r.filter(y=>y.bookId===o.key).reduce((y,B)=>y+(B.duration||0),0),x=Math.floor(N/60),A=N%60,T=x>0?`${x} hr${x!==1?"s":""} ${A>0?`${A} min`:""}`:`${A} min`,E=u.filter(y=>y.bookId===o.key),W=JSON.parse(localStorage.getItem("bookish_books")||"[]").find(y=>y.key===o.key),F=(W==null?void 0:W.category)==="completed";return e.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-[#F7F5F3]",children:[e.jsx("div",{className:"p-4 bg-[#F7F5F3]",children:e.jsx("button",{onClick:()=>s(-1),className:"w-8 h-8 flex items-center justify-center bg-[#F0EDE8] rounded-full hover:bg-[#E8E3DD] transition-colors",children:e.jsx(H,{className:"w-5 h-5 text-[#8B7355]"})})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx("div",{className:"w-24 h-32 rounded-lg overflow-hidden shadow-lg flex-shrink-0",children:o.cover_i?e.jsx("img",{src:`https://covers.openlibrary.org/b/id/${o.cover_i}-M.jpg`,alt:o.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-[#8B7355] flex items-center justify-center",children:e.jsx(L,{className:"w-8 h-8 text-white"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"font-serif text-xl font-medium text-[#3A3A3A] mb-2 leading-tight",children:o.title}),o.author_name&&o.author_name.length>0&&e.jsxs("p",{className:"text-sm text-[#8B7355] mb-3",children:["by ",o.author_name[0]]}),e.jsxs("div",{className:"space-y-1",children:[o.first_publish_year&&e.jsxs("p",{className:"text-xs text-[#8B7355]",children:["First published: ",o.first_publish_year]}),P>0&&e.jsxs("p",{className:"text-xs text-[#8B7355]",children:[P," pages"]})]})]})]}),g&&P>0&&e.jsxs("div",{className:"flex gap-3 mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-xs text-[#8B7355]",children:"Progress"}),e.jsxs("span",{className:"text-xs font-medium text-[#3A3A3A]",children:[m,"%"]})]}),e.jsx("div",{className:"w-full h-2 bg-[#F0EDE8] rounded-full overflow-hidden mb-2",children:e.jsx("div",{className:"h-full bg-[#E59554] rounded-full transition-all duration-300 ease-out",style:{width:`${m}%`}})}),e.jsxs("span",{className:"text-xs text-[#8B7355]",children:["Page ",a," of ",P]})]}),e.jsx("div",{className:"w-px bg-[#F0EDE8]"}),e.jsxs("div",{className:"flex flex-col items-center justify-center w-24",children:[e.jsx(Fe,{className:"w-5 h-5 text-[#8B7355] mb-1"}),e.jsx("span",{className:"text-sm font-medium text-[#3A3A3A]",children:T}),e.jsx("span",{className:"text-xs text-[#8B7355]",children:"Total Time"})]})]}),d?e.jsx("div",{className:"h-32 bg-[#F0EDE8] animate-pulse rounded-lg mb-6"}):o.description?e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-2",children:"About this book"}),e.jsxs("div",{className:"relative",children:[e.jsx("p",{className:`text-sm text-[#3A3A3A] leading-relaxed ${b?"":"line-clamp-4"}`,children:typeof o.description=="string"?o.description:"No description available."}),o.description&&o.description.length>200&&e.jsx("button",{onClick:()=>S(!b),className:"mt-2 flex items-center gap-1 text-sm font-medium text-[#8B7355] hover:text-[#3A3A3A] transition-colors",children:b?e.jsxs(e.Fragment,{children:["Show less",e.jsx(it,{className:"w-4 h-4"})]}):e.jsxs(e.Fragment,{children:["Read more",e.jsx(lt,{className:"w-4 h-4"})]})})]})]}):null,g&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h2",{className:"font-serif text-lg font-medium text-[#3A3A3A]",children:"My Notes"}),e.jsx("button",{onClick:()=>s("/notes"),className:"text-xs font-medium text-[#D2691E]",children:"View All"})]}),E.length>0?e.jsx("div",{className:"space-y-2",children:E.slice(0,2).map(y=>e.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsxs("span",{className:"text-xs text-[#8B7355]",children:[y.chapter?`Chapter: ${y.chapter}`:"",y.chapter&&y.page?" • ":"",y.page?`Page ${y.page}`:""]}),e.jsx("span",{className:"text-xs text-[#8B7355]",children:new Date(y.createdAt).toLocaleDateString()})]}),e.jsx("p",{className:"text-sm text-[#3A3A3A] line-clamp-2",children:y.content})]},y.id))}):e.jsx("div",{className:"p-4 bg-white rounded-lg shadow-sm flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(z,{className:"w-6 h-6 text-[#8B7355] mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-[#8B7355] mb-1",children:"No notes yet"}),e.jsx("button",{onClick:()=>s("/notes/add"),className:"text-xs font-medium text-[#D2691E]",children:"Add Your First Note"})]})})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t border-[#F0EDE8] flex gap-4 max-w-md mx-auto",children:g?e.jsx(e.Fragment,{children:F?e.jsxs("div",{className:"flex-1 py-3 px-4 bg-green-100 text-green-700 rounded-lg font-medium text-sm flex items-center justify-center gap-2",children:[e.jsx(Z,{className:"w-5 h-5"}),"Completed"]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>s("/notes/add"),className:"flex-1 py-3 px-4 bg-white border border-[#D2691E] text-[#D2691E] rounded-lg font-medium text-sm flex items-center justify-center gap-2",children:[e.jsx(z,{className:"w-5 h-5"}),"Add Note"]}),e.jsxs("button",{onClick:()=>{l(o),s("/reading")},className:"flex-1 py-3 px-4 bg-[#D2691E] text-white rounded-lg font-medium text-sm flex items-center justify-center gap-2",children:[e.jsx(ct,{className:"w-5 h-5"}),"Start Reading"]}),e.jsx("button",{onClick:O,className:"py-3 px-3 bg-green-600 text-white rounded-lg font-medium text-sm flex items-center justify-center",title:"Mark as Completed",children:e.jsx(Z,{className:"w-5 h-5"})})]})}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>s("/library"),className:"flex-1 py-3 px-4 bg-white border border-[#8B7355] text-[#8B7355] rounded-lg font-medium text-sm",children:"View Library"}),e.jsxs("button",{onClick:()=>D(!0),className:"flex-1 py-3 px-4 bg-[#8B7355] text-white rounded-lg font-medium text-sm flex items-center justify-center gap-2",children:[e.jsx(Re,{className:"w-5 h-5"}),"Add to Library"]})]})})]}),C&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-sm",children:[e.jsx("h3",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-4",children:"Add to Library"}),e.jsx("p",{className:"text-sm text-[#8B7355] mb-6",children:"Choose where to add this book:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>_("want-to-read"),className:"w-full p-4 bg-[#F0EDE8] rounded-lg text-left hover:bg-[#E8E3DD] transition-colors",children:[e.jsx("div",{className:"font-medium text-[#3A3A3A] mb-1",children:"Want to Read"}),e.jsx("div",{className:"text-xs text-[#8B7355]",children:"Save for later reading"})]}),e.jsxs("button",{onClick:()=>_("currently-reading"),className:"w-full p-4 bg-[#8B7355] text-white rounded-lg text-left hover:bg-[#7A6349] transition-colors",children:[e.jsx("div",{className:"font-medium mb-1",children:"Start Reading Now"}),e.jsx("div",{className:"text-xs opacity-90",children:"Add to library and begin reading session"})]})]}),e.jsx("button",{onClick:()=>D(!1),className:"w-full mt-4 py-2 text-sm text-[#8B7355] hover:text-[#3A3A3A] transition-colors",children:"Cancel"})]})}),e.jsx(se,{isOpen:k.isOpen,onClose:k.close,onConfirm:k.onConfirm||void 0,title:k.config.title,message:k.config.message,type:k.config.type,confirmText:k.config.confirmText,cancelText:k.config.cancelText})]})},I=[];for(let s=0;s<256;++s)I.push((s+256).toString(16).slice(1));function Vt(s,t=0){return(I[s[t+0]]+I[s[t+1]]+I[s[t+2]]+I[s[t+3]]+"-"+I[s[t+4]]+I[s[t+5]]+"-"+I[s[t+6]]+I[s[t+7]]+"-"+I[s[t+8]]+I[s[t+9]]+"-"+I[s[t+10]]+I[s[t+11]]+I[s[t+12]]+I[s[t+13]]+I[s[t+14]]+I[s[t+15]]).toLowerCase()}let ce;const Qt=new Uint8Array(16);function Zt(){if(!ce){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ce=crypto.getRandomValues.bind(crypto)}return ce(Qt)}const es=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Te={randomUUID:es};function be(s,t,i){var l;if(Te.randomUUID&&!s)return Te.randomUUID();s=s||{};const n=s.random??((l=s.rng)==null?void 0:l.call(s))??Zt();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Vt(n)}const ts=({bookId:s,startPage:t})=>{const[i,n]=p.useState(!1),[l,r]=p.useState(0),[u,f]=p.useState(null),d=p.useRef(null);return p.useEffect(()=>(i?d.current=window.setInterval(()=>{r(v=>v+1)},1e3):d.current&&clearInterval(d.current),()=>{d.current&&clearInterval(d.current)}),[i]),{isActive:i,elapsedTime:l,startTimer:()=>{n(!0),u||f(new Date().toISOString())},pauseTimer:()=>{n(!1)},stopTimer:v=>{n(!1);const C=new Date().toISOString(),D=Math.floor(l/60);return{id:be(),bookId:s,startPage:t,endPage:v,startTime:u||new Date().toISOString(),endTime:C,duration:D}},resetTimer:()=>{n(!1),r(0),f(null),d.current&&clearInterval(d.current)}}},ss=()=>{const s=J(),{currentBook:t,addSession:i,addNote:n}=X(),{updatePetFromReading:l}=V(),r=ne(),[u,f]=p.useState(1),[d,j]=p.useState(1),[o,h]=p.useState(!1),[g,v]=p.useState(""),[C,D]=p.useState(""),{isActive:b,elapsedTime:S,startTimer:k,pauseTimer:w,stopTimer:_,resetTimer:O}=ts({bookId:(t==null?void 0:t.key)||"",startPage:u});if(p.useEffect(()=>{if(t){const m=JSON.parse(localStorage.getItem("bookish_reading_sessions")||"[]").filter(N=>N.bookId===t.key);if(m.length>0){m.sort((x,A)=>new Date(A.startTime).getTime()-new Date(x.startTime).getTime());const N=m[0].endPage||m[0].startPage;f(N),j(N)}}},[t]),!t)return s("/"),null;const P=()=>{if(d<u){r.showAlert("Invalid Page Range","End page cannot be less than start page","alert");return}const a=_(d);if(i(a),a.duration&&l(a.duration),g.trim()){const m={id:be(),bookId:t.key,page:d,chapter:C.trim()||void 0,content:g.trim(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};n(m)}s("/")},c=a=>{const m=Math.floor(a/3600),N=Math.floor(a%3600/60),x=a%60;return`${m>0?`${m}:`:""}${N.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-[#F7F5F3] pb-20",children:[e.jsxs("header",{className:"p-4 bg-[#F0EDE8] flex items-center gap-3 shadow-sm",children:[e.jsx("button",{onClick:()=>{b?r.showConfirm("Discard Session","Do you want to discard this reading session?",()=>{O(),s(-1)},{confirmText:"Discard",cancelText:"Continue Reading"}):s(-1)},className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-[#F7F5F3] transition-colors",children:e.jsx(H,{className:"w-5 h-5 text-[#8B7355]"})}),e.jsx("h1",{className:"font-serif text-lg font-medium text-[#3A3A3A]",children:"Reading Session"})]}),e.jsx("main",{className:"p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden mb-6",children:[e.jsxs("div",{className:"flex items-center p-4 border-b border-[#F0EDE8]",children:[e.jsx("div",{className:"w-12 h-16 rounded overflow-hidden mr-3",children:t.cover_i?e.jsx("img",{src:Xt(t.cover_i,"S"),alt:t.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-[#8B7355]"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-serif text-base font-medium text-[#3A3A3A] line-clamp-1",children:t.title}),t.author_name&&t.author_name.length>0&&e.jsxs("p",{className:"text-sm text-[#8B7355]",children:["by ",t.author_name[0]]})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("div",{className:"w-24 h-24 rounded-full bg-[#F7F5F3] flex items-center justify-center shadow-inner",children:e.jsx("span",{className:"font-serif text-2xl font-medium text-[#3A3A3A]",children:c(S)})})}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("button",{onClick:b?w:k,className:"w-16 h-16 rounded-full bg-[#D2691E] text-white flex items-center justify-center shadow-md hover:bg-[#A0522D] transition-colors",children:b?e.jsx(dt,{className:"w-8 h-8"}):e.jsx(mt,{className:"w-8 h-8"})})}),e.jsxs("div",{className:"flex gap-6 mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm text-[#8B7355] mb-2",children:"Start Page"}),e.jsx("input",{type:"number",value:u,onChange:a=>f(parseInt(a.target.value)||1),min:"1",max:t.number_of_pages_median||1e3,className:"w-full p-2 border border-[#E5E5E5] rounded-md text-[#3A3A3A]",disabled:b||S>0})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm text-[#8B7355] mb-2",children:"End Page"}),e.jsx("input",{type:"number",value:d,onChange:a=>j(parseInt(a.target.value)||1),min:u,max:t.number_of_pages_median||1e3,className:"w-full p-2 border border-[#E5E5E5] rounded-md text-[#3A3A3A]"})]})]}),e.jsx("button",{onClick:()=>h(!o),className:"w-full py-2 text-sm text-[#D2691E] mb-2",children:o?"Hide Note Form":"+ Add a note about this session"}),o&&e.jsxs("div",{className:"space-y-4 mb-4 p-4 bg-[#F7F5F3] rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-[#8B7355] mb-2",children:"Chapter (optional)"}),e.jsx("input",{type:"text",value:C,onChange:a=>D(a.target.value),placeholder:"e.g. Chapter 5",className:"w-full p-2 border border-[#E5E5E5] rounded-md text-[#3A3A3A]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-[#8B7355] mb-2",children:"Note"}),e.jsx("textarea",{value:g,onChange:a=>v(a.target.value),placeholder:"Write your thoughts about this reading session...",rows:4,className:"w-full p-2 border border-[#E5E5E5] rounded-md text-[#3A3A3A] resize-none"})]})]})]})]})}),e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t border-[#F0EDE8] flex gap-4 max-w-md mx-auto",children:[e.jsxs("button",{onClick:()=>{r.showConfirm("Cancel Session","Are you sure you want to cancel this session? All progress will be lost.",()=>{O(),s(-1)},{confirmText:"Yes, Cancel",cancelText:"Keep Reading"})},className:"flex-1 py-3 px-4 bg-white border border-[#E5E5E5] text-[#8B7355] rounded-lg font-medium text-sm flex items-center justify-center gap-2",children:[e.jsx(_e,{className:"w-5 h-5"}),"Cancel"]}),e.jsxs("button",{onClick:P,className:"flex-1 py-3 px-4 bg-[#D2691E] text-white rounded-lg font-medium text-sm flex items-center justify-center gap-2",disabled:!S,children:[e.jsx(Z,{className:"w-5 h-5"}),"Finish"]})]}),e.jsx(se,{isOpen:r.isOpen,onClose:r.close,onConfirm:r.onConfirm||void 0,title:r.config.title,message:r.config.message,type:r.config.type,confirmText:r.config.confirmText,cancelText:r.config.cancelText})]})},ns=()=>{const s=J(),{books:t}=X(),{updatePetFromBookCompletion:i}=V(),n=ne(),[l,r]=p.useState(null),[u,f]=p.useState(null),[d,j]=p.useState({}),[o,h]=p.useState([]);p.useEffect(()=>{(()=>{const m=JSON.parse(localStorage.getItem("bookish_books")||"[]");h(m)})()},[]),p.useEffect(()=>{const a=()=>{r(null)};if(l)return document.addEventListener("click",a),()=>document.removeEventListener("click",a)},[l]);const g=o.length>0?o:t,v=a=>{s(`/book?book=${a.key}`,{state:{bookData:a}})},C=(a,m)=>{m.stopPropagation(),n.showConfirm("Remove Book","Are you sure you want to remove this book from your library?",()=>{const x=JSON.parse(localStorage.getItem("bookish_books")||"[]").filter(E=>E.key!==a);localStorage.setItem("bookish_books",JSON.stringify(x));const T=JSON.parse(localStorage.getItem("myBooks")||"[]").filter(E=>E.key!==a);localStorage.setItem("myBooks",JSON.stringify(T)),h(x)},{confirmText:"Remove",cancelText:"Keep Book"}),r(null)},D=(a,m,N)=>{const A=JSON.parse(localStorage.getItem("bookish_books")||"[]").map($=>$.key===a?{...$,category:m}:$);localStorage.setItem("bookish_books",JSON.stringify(A));const E=JSON.parse(localStorage.getItem("myBooks")||"[]").map($=>$.key===a?{...$,category:m}:$);localStorage.setItem("myBooks",JSON.stringify(E)),h(A),f(null),r(null)},b=(a,m)=>{m.stopPropagation(),n.showConfirm("Mark as Completed","Mark this book as completed? This will give your pet a big experience boost!",()=>{D(a,"completed"),i(),setTimeout(()=>{n.showAlert("Book Completed!","🎉 Book marked as completed! Check your pet for an experience boost!","success")},100)},{confirmText:"Mark Complete",cancelText:"Cancel"}),r(null)},S=(a,m)=>{m.stopPropagation(),r(l===a?null:a)},k=a=>{const m=ue(a);if(m.length===0)return 0;const N=m[m.length-1],x=t.find(A=>A.key===a);return!(x!=null&&x.number_of_pages_median)||!N.endPage?0:Math.min(100,Math.round(N.endPage/x.number_of_pages_median*100))},w=a=>ue(a).reduce((N,x)=>N+(x.duration||0),0),_=a=>{const m=Math.floor(a/60),N=a%60;return m>0?`${m}h ${N}m`:`${N}m`},O=()=>{const a=[],m=[],N=[];return g.forEach(x=>{const A=k(x.key),T=w(x.key);x.category==="want-to-read"?N.push(x):x.category==="completed"||A>=100?m.push(x):x.category==="currently-reading"||A>0||T>0?a.push(x):N.push(x)}),{currentlyReading:a,completed:m,wantToRead:N}},P=a=>{const m=k(a.key),N=w(a.key),x=d[a.key]||{translateX:0,isDeleting:!1},A=F=>{const y=F.touches[0];j(B=>({...B,[a.key]:{...x,startX:y.clientX,startY:y.clientY}}))},T=F=>{const y=F.touches[0],B=d[a.key];if(!(B!=null&&B.startX)||!(B!=null&&B.startY))return;const R=y.clientX-B.startX,M=y.clientY-B.startY;Math.abs(M)>Math.abs(R)||R<-20&&j(U=>({...U,[a.key]:{...B,translateX:Math.max(R,-120)}}))},E=()=>{const F=d[a.key];F&&(F.translateX<-60?j(y=>({...y,[a.key]:{...F,translateX:-120,isDeleting:!0}})):j(y=>({...y,[a.key]:{...F,translateX:0,isDeleting:!1}})))},$=()=>{n.showConfirm("Remove Book","Are you sure you want to remove this book from your library?",()=>{const y=JSON.parse(localStorage.getItem("bookish_books")||"[]").filter(M=>M.key!==a.key);localStorage.setItem("bookish_books",JSON.stringify(y));const R=JSON.parse(localStorage.getItem("myBooks")||"[]").filter(M=>M.key!==a.key);localStorage.setItem("myBooks",JSON.stringify(R)),h(y),j(M=>{const U={...M};return delete U[a.key],U})},{confirmText:"Remove",cancelText:"Keep Book"})},W=()=>{j(F=>({...F,[a.key]:{translateX:0,isDeleting:!1}}))};return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm cursor-pointer hover:shadow-md transition-shadow relative",style:{transform:`translateX(${x.translateX}px)`,transition:x.isDeleting||x.translateX===0?"transform 0.3s ease":"none",overflow:x.isDeleting?"hidden":"visible"},onTouchStart:A,onTouchMove:T,onTouchEnd:E,children:[e.jsxs("div",{className:"flex gap-3 p-4",onClick:()=>!x.isDeleting&&v(a),children:[e.jsxs("div",{className:"w-12 h-16 bg-[#F0EDE8] rounded flex-shrink-0 flex items-center justify-center",children:[a.cover_i?e.jsx("img",{src:`https://covers.openlibrary.org/b/id/${a.cover_i}-M.jpg`,alt:a.title,className:"w-full h-full object-cover rounded",onError:F=>{var B;const y=F.target;y.style.display="none",(B=y.nextElementSibling)==null||B.classList.remove("hidden")}}):null,e.jsx(L,{className:`w-6 h-6 text-[#8B7355] ${a.cover_i?"hidden":""}`})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-serif font-medium text-[#3A3A3A] text-sm leading-tight mb-1 truncate",children:a.title}),a.author_name&&e.jsxs("p",{className:"text-xs text-[#8B7355] mb-2 truncate",children:["by ",a.author_name[0]]}),m>0&&m<100&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-xs text-[#8B7355]",children:"Progress"}),e.jsxs("span",{className:"text-xs text-[#8B7355]",children:[m,"%"]})]}),e.jsx("div",{className:"w-full bg-[#F0EDE8] rounded-full h-1.5",children:e.jsx("div",{className:"bg-[#8B7355] h-1.5 rounded-full transition-all duration-300",style:{width:`${m}%`}})})]}),m>=100&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600 mb-2",children:[e.jsx(Z,{className:"w-3 h-3"}),e.jsx("span",{children:"Completed"})]}),N>0&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-[#8B7355]",children:[e.jsx(G,{className:"w-3 h-3"}),e.jsxs("span",{children:[_(N)," read"]})]})]})]}),!x.isDeleting&&e.jsx("button",{onClick:F=>S(a.key,F),className:"absolute top-3 right-3 w-6 h-6 rounded-full bg-[#F0EDE8] flex items-center justify-center hover:bg-[#E8E3DD] transition-colors",children:e.jsx(xt,{className:"w-4 h-4 text-[#8B7355]"})}),"        ",l===a.key&&!x.isDeleting&&e.jsxs("div",{className:"absolute top-10 right-3 bg-white rounded-lg shadow-lg border border-[#E8E3DD] py-1 z-50 min-w-[180px]",children:[e.jsxs("button",{onClick:F=>{F.stopPropagation(),f(a.key),r(null)},className:"flex items-center gap-2 px-3 py-2 text-sm text-[#8B7355] hover:bg-[#F0EDE8] w-full text-left",children:[e.jsx(ht,{className:"w-4 h-4"}),"Move to category"]}),a.category!=="completed"&&e.jsxs("button",{onClick:F=>b(a.key,F),className:"flex items-center gap-2 px-3 py-2 text-sm text-green-600 hover:bg-green-50 w-full text-left",children:[e.jsx(Z,{className:"w-4 h-4"}),"Mark as completed"]}),e.jsxs("button",{onClick:F=>C(a.key,F),className:"flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[e.jsx(Ie,{className:"w-4 h-4"}),"Remove from library"]})]}),x.isDeleting&&e.jsx("div",{className:"absolute inset-0 bg-red-500 flex items-center justify-end pr-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:W,className:"px-3 py-1 text-xs bg-white text-red-500 rounded",children:"Cancel"}),e.jsx("button",{onClick:$,className:"px-3 py-1 text-xs bg-red-700 text-white rounded",children:"Delete"})]})})]},a.key)},c=(a,m)=>m.length===0?null:e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-4 flex items-center gap-2",children:[a,e.jsxs("span",{className:"text-sm text-[#8B7355] font-normal",children:["(",m.length,")"]})]}),e.jsx("div",{className:"space-y-3",children:m.map(P)})]});return e.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-[#F7F5F3]",children:[e.jsx("header",{className:"p-4 bg-[#F7F5F3] border-b border-[#E8E3DD]",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>s("/"),className:"w-8 h-8 rounded-full bg-[#F0EDE8] flex items-center justify-center",children:e.jsx(H,{className:"w-5 h-5 text-[#8B7355]"})}),e.jsx("h1",{className:"font-serif text-xl font-medium text-[#3A3A3A]",children:"My Library"})]})}),"      ",e.jsx("main",{className:"p-4",children:g.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(L,{className:"w-16 h-16 text-[#8B7355] mx-auto mb-4"}),e.jsx("h2",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-2",children:"No books yet"}),e.jsx("p",{className:"text-sm text-[#8B7355] mb-6",children:"Start building your library by searching for books to read"}),e.jsx("button",{onClick:()=>s("/search"),className:"bg-[#8B7355] text-white px-6 py-3 rounded-xl font-medium",children:"Find Books"})]}):e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("p",{className:"text-sm text-[#8B7355]",children:[g.length," book",g.length!==1?"s":""," in your library"]})}),(()=>{const{currentlyReading:a,completed:m,wantToRead:N}=O();return e.jsxs(e.Fragment,{children:[c("Currently Reading",a),c("Want to Read",N),c("Completed",m)]})})()]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-sm",children:[e.jsx("h3",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-4",children:"Move Book"}),e.jsx("p",{className:"text-sm text-[#8B7355] mb-6",children:"Choose a new category:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>D(u,"want-to-read"),className:"w-full p-3 bg-[#F0EDE8] rounded-lg text-left hover:bg-[#E8E3DD] transition-colors",children:[e.jsx("div",{className:"font-medium text-[#3A3A3A]",children:"Want to Read"}),e.jsx("div",{className:"text-xs text-[#8B7355]",children:"Books you plan to read"})]}),e.jsxs("button",{onClick:()=>D(u,"currently-reading"),className:"w-full p-3 bg-[#E8E3DD] rounded-lg text-left hover:bg-[#DDD8CE] transition-colors",children:[e.jsx("div",{className:"font-medium text-[#3A3A3A]",children:"Currently Reading"}),e.jsx("div",{className:"text-xs text-[#8B7355]",children:"Books you're actively reading"})]}),e.jsxs("button",{onClick:()=>D(u,"completed"),className:"w-full p-3 bg-green-50 rounded-lg text-left hover:bg-green-100 transition-colors",children:[e.jsx("div",{className:"font-medium text-[#3A3A3A]",children:"Completed"}),e.jsx("div",{className:"text-xs text-green-600",children:"Books you've finished"})]})]}),e.jsx("button",{onClick:()=>f(null),className:"w-full mt-4 py-2 text-sm text-[#8B7355] hover:text-[#3A3A3A] transition-colors",children:"Cancel"}),"          "]})}),e.jsx(se,{isOpen:n.isOpen,onClose:n.close,onConfirm:n.onConfirm||void 0,title:n.config.title,message:n.config.message,type:n.config.type,confirmText:n.config.confirmText,cancelText:n.config.cancelText})]})},as=()=>{const s=J(),{books:t}=X(),{pet:i}=V(),n=Le(),l=je(),r=te(),u=h=>{const g=Math.floor(h/60),v=h%60;return g>0?`${g}h ${v}m`:`${v}m`},f=()=>{if(r.length===0)return 0;const h=r.reduce((g,v)=>g+(v.duration||0),0);return Math.round(h/r.length)},j=(()=>{const h=new Date,g=new Date(h.getFullYear(),h.getMonth(),1),v=r.filter(b=>new Date(b.startTime)>=g),C=v.reduce((b,S)=>b+(S.duration||0),0),D=v.reduce((b,S)=>b+((S.endPage||0)-(S.startPage||0)),0);return{time:C,pages:D,sessions:v.length}})(),o=({icon:h,title:g,value:v,subtitle:C})=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-[#F0EDE8] rounded-lg flex items-center justify-center",children:e.jsx(h,{className:"w-4 h-4 text-[#8B7355]"})}),e.jsx("span",{className:"text-sm text-[#8B7355] font-medium",children:g})]}),e.jsx("p",{className:"text-2xl font-serif font-medium text-[#3A3A3A] mb-1",children:v}),C&&e.jsx("p",{className:"text-xs text-[#8B7355]",children:C})]});return e.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-[#F7F5F3]",children:[e.jsx("header",{className:"p-4 bg-[#F7F5F3] border-b border-[#E8E3DD]",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>s("/"),className:"w-8 h-8 rounded-full bg-[#F0EDE8] flex items-center justify-center",children:e.jsx(H,{className:"w-5 h-5 text-[#8B7355]"})}),e.jsx("h1",{className:"font-serif text-xl font-medium text-[#3A3A3A]",children:"Reading Statistics"})]})}),e.jsxs("main",{className:"p-4 space-y-6",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-3",children:"Overview"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(o,{icon:L,title:"Books Read",value:n.totalBooksRead.toString(),subtitle:"this year"}),e.jsx(o,{icon:G,title:"Total Time",value:u(n.totalReadingTime),subtitle:"all time"}),e.jsx(o,{icon:me,title:"Pages Read",value:n.totalPagesRead.toString(),subtitle:"all time"}),e.jsx(o,{icon:we,title:"Current Streak",value:`${l.currentStreak} days`,subtitle:`longest: ${l.longestStreak} days`})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-3",children:"This Month"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(he,{className:"w-5 h-5 text-[#8B7355]"}),e.jsx("span",{className:"font-medium text-[#3A3A3A]",children:"Monthly Progress"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-serif font-medium text-[#3A3A3A]",children:j.sessions}),e.jsx("p",{className:"text-xs text-[#8B7355]",children:"sessions"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-serif font-medium text-[#3A3A3A]",children:u(j.time)}),e.jsx("p",{className:"text-xs text-[#8B7355]",children:"reading time"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-serif font-medium text-[#3A3A3A]",children:j.pages}),e.jsx("p",{className:"text-xs text-[#8B7355]",children:"pages"})]})]})]})})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-3",children:"Recent Activity"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(o,{icon:G,title:"Today",value:u(n.readingTimeToday)}),e.jsx(o,{icon:he,title:"This Week",value:u(n.readingTimeThisWeek)}),e.jsx(o,{icon:me,title:"Average Session",value:u(f())}),e.jsx(o,{icon:L,title:"Books in Library",value:t.length.toString()})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-3",children:"Reading Companion"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(ut,{className:"w-5 h-5 text-[#8B7355]"}),e.jsxs("span",{className:"font-medium text-[#3A3A3A]",children:[i.name,"'s Progress"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-serif font-medium text-[#3A3A3A]",children:i.level}),e.jsx("p",{className:"text-xs text-[#8B7355]",children:"level"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-serif font-medium text-[#3A3A3A]",children:[i.happiness,"%"]}),e.jsx("p",{className:"text-xs text-[#8B7355]",children:"happiness"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-serif font-medium text-[#3A3A3A]",children:i.experience}),e.jsx("p",{className:"text-xs text-[#8B7355]",children:"experience"})]})]})]})]}),r.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(we,{className:"w-16 h-16 text-[#8B7355] mx-auto mb-4"}),e.jsx("h3",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-2",children:"Start tracking your reading"}),e.jsx("p",{className:"text-sm text-[#8B7355] mb-6",children:"Begin a reading session to see your statistics here"}),e.jsx("button",{onClick:()=>s("/search"),className:"bg-[#8B7355] text-white px-6 py-3 rounded-xl font-medium",children:"Find a Book to Read"})]})]})]})},os=()=>{const s=J(),{notes:t,books:i,deleteNote:n}=X(),l=ne(),r=d=>{l.showConfirm("Delete Note","Are you sure you want to delete this note? This action cannot be undone.",()=>{n(d)},{confirmText:"Delete",cancelText:"Cancel"})},u=d=>{const j=i.find(o=>o.key===d);return j?j.title:"Unknown Book"},f=d=>new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return e.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-[#F7F5F3]",children:[e.jsx("header",{className:"p-4 bg-[#F7F5F3] border-b border-[#E8E3DD]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>s(-1),className:"w-8 h-8 rounded-full bg-[#F0EDE8] flex items-center justify-center",children:e.jsx(H,{className:"w-5 h-5 text-[#8B7355]"})}),e.jsx("h1",{className:"font-serif text-xl font-medium text-[#3A3A3A]",children:"My Notes"})]}),e.jsx("button",{onClick:()=>s("/notes/add"),className:"w-8 h-8 rounded-full bg-[#8B7355] flex items-center justify-center",children:e.jsx(Re,{className:"w-5 h-5 text-white"})})]})}),e.jsx("main",{className:"p-4",children:t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(z,{className:"w-16 h-16 text-[#8B7355] mx-auto mb-4"}),e.jsx("h2",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-2",children:"No notes yet"}),e.jsx("p",{className:"text-sm text-[#8B7355] mb-6",children:"Start taking notes while reading to remember important thoughts and insights"}),e.jsx("button",{onClick:()=>s("/notes/add"),className:"bg-[#8B7355] text-white px-6 py-3 rounded-xl font-medium",children:"Add Your First Note"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("p",{className:"text-sm text-[#8B7355]",children:[t.length," note",t.length!==1?"s":""]})}),"            ",t.map(d=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(L,{className:"w-4 h-4 text-[#8B7355]"}),e.jsx("span",{className:"text-sm font-medium text-[#3A3A3A] truncate",children:u(d.bookId)})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-[#8B7355]",children:[d.chapter&&e.jsxs("span",{children:["Chapter: ",d.chapter]}),d.page&&e.jsxs("span",{children:["Page ",d.page]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(he,{className:"w-3 h-3"}),e.jsx("span",{children:f(d.createdAt)})]})]})]}),e.jsx("button",{onClick:()=>r(d.id),className:"p-1 text-red-500 hover:bg-red-50 rounded",children:e.jsx(Ie,{className:"w-4 h-4"})})]}),"                ",e.jsx("div",{className:"prose prose-sm max-w-none",children:e.jsx("p",{className:"text-[#3A3A3A] leading-relaxed whitespace-pre-wrap",children:d.content})})]},d.id))]})}),e.jsx(se,{isOpen:l.isOpen,onClose:l.close,onConfirm:l.onConfirm||void 0,title:l.config.title,message:l.config.message,type:l.config.type,confirmText:l.config.confirmText,cancelText:l.config.cancelText})]})},rs=()=>{const s=J(),[t]=Ce(),{books:i,currentBook:n,addNote:l,notes:r,updateNote:u}=X(),f=ne(),d=t.get("edit"),[j,o]=p.useState((n==null?void 0:n.key)||""),[h,g]=p.useState(""),[v,C]=p.useState(""),[D,b]=p.useState("");p.useEffect(()=>{var w;if(d){const _=r.find(O=>O.id===d);_&&(o(_.bookId),g(_.content),C(((w=_.page)==null?void 0:w.toString())||""),b(_.chapter||""))}},[d,r]);const S=()=>{var _;if(!h.trim()){f.showAlert("Content Required","Please add some content to your note before saving.","alert");return}const w={id:d||be(),bookId:j,content:h.trim(),page:v?parseInt(v):void 0,chapter:D.trim()||void 0,createdAt:d?((_=r.find(O=>O.id===d))==null?void 0:_.createdAt)||new Date().toISOString():new Date().toISOString(),updatedAt:new Date().toISOString()};d&&u?u(w):l(w),f.showAlert("Note Saved","Your note has been saved successfully!","success"),setTimeout(()=>{s("/notes")},1500)},k=()=>{h.trim()||D.trim()||v.trim()?f.showConfirm("Discard Note","You have unsaved changes. Are you sure you want to go back?",()=>{s(-1)},{confirmText:"Discard",cancelText:"Keep Editing"}):s(-1)};return e.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-[#F7F5F3]",children:[e.jsx("header",{className:"p-4 bg-[#F7F5F3] border-b border-[#E8E3DD]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:k,className:"w-8 h-8 rounded-full bg-[#F0EDE8] flex items-center justify-center",children:e.jsx(H,{className:"w-5 h-5 text-[#8B7355]"})}),e.jsx("h1",{className:"font-serif text-xl font-medium text-[#3A3A3A]",children:d?"Edit Note":"Add Note"})]}),e.jsxs("button",{onClick:S,className:"flex items-center gap-2 bg-[#8B7355] text-white px-4 py-2 rounded-lg text-sm font-medium",children:[e.jsx(gt,{className:"w-4 h-4"}),"Save"]})]})}),e.jsxs("main",{className:"p-4 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#3A3A3A] mb-2",children:"Select Book"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:j,onChange:w=>o(w.target.value),className:"w-full p-3 pr-10 bg-white border border-[#E8E3DD] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#8B7355] text-[#3A3A3A] appearance-none",children:[e.jsx("option",{value:"",children:"Choose a book..."}),i.map(w=>e.jsx("option",{value:w.key,children:w.title},w.key))]}),e.jsx(L,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-[#8B7355] pointer-events-none"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#3A3A3A] mb-2",children:"Chapter (optional)"}),e.jsx("input",{type:"text",value:D,onChange:w=>b(w.target.value),placeholder:"e.g., Chapter 5",className:"w-full p-3 bg-white border border-[#E8E3DD] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#8B7355] text-[#3A3A3A]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#3A3A3A] mb-2",children:"Page (optional)"}),e.jsx("input",{type:"number",value:v,onChange:w=>C(w.target.value),placeholder:"Page number",className:"w-full p-3 bg-white border border-[#E8E3DD] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#8B7355] text-[#3A3A3A]"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#3A3A3A] mb-2",children:"Your Note"}),e.jsx("textarea",{value:h,onChange:w=>g(w.target.value),placeholder:"Write your thoughts, insights, or reflections about this part of the book...",rows:8,className:"w-full p-3 bg-white border border-[#E8E3DD] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#8B7355] text-[#3A3A3A] resize-none"}),e.jsxs("p",{className:"text-xs text-[#8B7355] mt-2",children:[h.length,"/500 characters"]})]}),e.jsxs("div",{className:"bg-[#F0EDE8] rounded-xl p-4",children:[e.jsx("h3",{className:"font-medium text-[#3A3A3A] mb-2",children:"💡 Note-taking tips:"}),e.jsxs("ul",{className:"text-sm text-[#8B7355] space-y-1",children:[e.jsx("li",{children:"• Write down key insights or quotes that resonate with you"}),e.jsx("li",{children:"• Note questions or thoughts the reading sparked"}),e.jsx("li",{children:"• Record connections to other books or personal experiences"}),e.jsx("li",{children:"• Include your emotional reactions or reflections"})]})]})]}),e.jsx(se,{isOpen:f.isOpen,onClose:f.close,onConfirm:f.onConfirm||void 0,title:f.config.title,message:f.config.message,type:f.config.type,confirmText:f.config.confirmText,cancelText:f.config.cancelText})]})},is=()=>{const s=J(),{pet:t,petStats:i,feedPet:n,playWithPet:l,petSleep:r,getPetMood:u,getPetEvolutionRequirement:f,resetPet:d,updatePetName:j,getPetEmoji:o,canEvolve:h,evolvePet:g}=V(),[v,C]=p.useState(!1),[D,b]=p.useState(t.name),[S,k]=p.useState(!1),w=x=>x>70?"bg-green-500":x>40?"bg-yellow-500":"bg-red-500",_=x=>`${Math.max(0,Math.min(100,x))}%`,O=()=>{D.trim()&&(j(D.trim()),C(!1))},P=()=>{d(),k(!1)},c=x=>({"first-book":"📖","book-lover":"📚",bookworm:"🐛","speed-reader":"⚡","night-owl":"🦉","early-bird":"🐦"})[x]||"🏆",a=x=>({"first-book":"Read your first book","book-lover":"Read 10 books",bookworm:"Read 50 books","speed-reader":"Read for 100+ minutes in a day","night-owl":"Read after midnight","early-bird":"Read before 6 AM"})[x]||"Special achievement",m=x=>{const A=Math.floor(x/60),T=x%60;return A>0?`${A}h ${T}m`:`${T}m`},N=f();return e.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-[#F7F5F3]",children:[e.jsx("header",{className:"p-4 bg-[#F7F5F3] border-b border-[#E8E3DD]",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>s(-1),className:"w-8 h-8 rounded-full bg-[#F0EDE8] flex items-center justify-center",children:e.jsx(H,{className:"w-5 h-5 text-[#8B7355]"})}),e.jsx("h1",{className:"font-serif text-xl font-medium text-[#3A3A3A]",children:"My Reading Pet"})]})}),e.jsxs("main",{className:"p-4 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 text-center",children:[e.jsx("div",{className:"text-8xl mb-4",children:o()}),e.jsxs("div",{className:"mb-4",children:[v?e.jsx("div",{className:"flex items-center justify-center gap-2",children:e.jsx("input",{type:"text",value:D,onChange:x=>b(x.target.value),className:"text-2xl font-serif font-medium bg-[#F0EDE8] rounded px-3 py-1 border text-center",onBlur:O,onKeyPress:x=>x.key==="Enter"&&O(),autoFocus:!0})}):e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("h2",{className:"text-2xl font-serif font-medium text-[#3A3A3A]",children:t.name}),e.jsx("button",{onClick:()=>C(!0),className:"p-1 text-[#8B7355] hover:bg-[#F0EDE8] rounded",children:e.jsx(z,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-lg text-[#8B7355] mb-2",children:[e.jsxs("span",{children:["Level ",t.level]}),e.jsx("span",{children:"•"}),e.jsx("span",{className:"capitalize",children:t.evolutionStage})]}),h()&&e.jsxs("button",{onClick:g,className:"bg-gradient-to-r from-[#D2691E] to-[#FF8C00] text-white px-6 py-2 rounded-full font-medium mb-2",children:["✨ Evolve to ",N.stage,"!"]})]}),e.jsx("p",{className:"text-[#3A3A3A] mb-4",children:u()}),e.jsx("div",{className:"mb-4 p-3 bg-[#F0EDE8] rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-[#D2691E] mb-1",children:["💰 ",t.points]}),e.jsx("p",{className:"text-sm text-[#8B7355]",children:"Care Points (Earned from reading)"})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-[#8B7355] mb-2",children:[e.jsx("span",{children:"Experience"}),e.jsxs("span",{children:[t.experience,"/",t.experienceToNext]})]}),e.jsx("div",{className:"h-3 bg-[#F0EDE8] rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-[#D2691E] to-[#FF8C00] rounded-full transition-all duration-300",style:{width:`${t.experience/t.experienceToNext*100}%`}})})]}),"          ",e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("button",{onClick:n,disabled:t.points<3,className:`py-3 px-4 rounded-xl font-medium transition-colors flex flex-col items-center gap-1 ${t.points>=3?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[e.jsx(ke,{className:"w-6 h-6"}),e.jsx("span",{className:"text-sm",children:"Feed"}),e.jsx("span",{className:"text-xs",children:"💰 3 pts"})]}),e.jsxs("button",{onClick:l,disabled:t.points<5,className:`py-3 px-4 rounded-xl font-medium transition-colors flex flex-col items-center gap-1 ${t.points>=5?"bg-blue-100 text-blue-700 hover:bg-blue-200":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[e.jsx(de,{className:"w-6 h-6"}),e.jsx("span",{className:"text-sm",children:"Play"}),e.jsx("span",{className:"text-xs",children:"💰 5 pts"})]}),e.jsxs("button",{onClick:r,className:"py-3 px-4 bg-purple-100 text-purple-700 rounded-xl font-medium hover:bg-purple-200 transition-colors flex flex-col items-center gap-1",children:[e.jsx(Ae,{className:"w-6 h-6"}),e.jsx("span",{className:"text-sm",children:"Sleep"}),e.jsx("span",{className:"text-xs",children:"Free"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[e.jsx("h3",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-4",children:"Pet Stats"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{children:"Happiness"})]}),e.jsxs("span",{children:[t.happiness,"/100"]})]}),e.jsx("div",{className:"h-3 bg-[#F0EDE8] rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${w(t.happiness)} rounded-full transition-all duration-300`,style:{width:_(t.happiness)}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Hunger"})]}),e.jsxs("span",{children:[t.hunger,"/100"]})]}),e.jsx("div",{className:"h-3 bg-[#F0EDE8] rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${w(t.hunger)} rounded-full transition-all duration-300`,style:{width:_(t.hunger)}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{children:"Energy"})]}),e.jsxs("span",{children:[t.energy,"/100"]})]}),e.jsx("div",{className:"h-3 bg-[#F0EDE8] rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${w(t.energy)} rounded-full transition-all duration-300`,style:{width:_(t.energy)}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{children:"Health"})]}),e.jsxs("span",{children:[t.health,"/100"]})]}),e.jsx("div",{className:"h-3 bg-[#F0EDE8] rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${w(t.health)} rounded-full transition-all duration-300`,style:{width:_(t.health)}})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[e.jsx("h3",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-4",children:"Reading Progress"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-[#D2691E]",children:t.totalBooksRead}),e.jsx("div",{className:"text-sm text-[#8B7355]",children:"Books Read"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-[#D2691E]",children:m(t.totalReadingTime)}),e.jsx("div",{className:"text-sm text-[#8B7355]",children:"Total Time"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-[#D2691E]",children:i.booksReadToday}),e.jsx("div",{className:"text-sm text-[#8B7355]",children:"Today's Books"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-[#D2691E]",children:m(i.readingTimeToday)}),e.jsx("div",{className:"text-sm text-[#8B7355]",children:"Today's Time"})]})]})]}),t.badges.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[e.jsx("h3",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-4",children:"Achievements"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.badges.map((x,A)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[#F0EDE8] rounded-lg",children:[e.jsx("div",{className:"text-2xl",children:c(x)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-[#3A3A3A] capitalize text-sm",children:x.replace("-"," ")}),e.jsx("div",{className:"text-xs text-[#8B7355]",children:a(x)})]})]},A))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[e.jsx("h3",{className:"font-serif text-lg font-medium text-[#3A3A3A] mb-2",children:"Pet Management"}),e.jsx("p",{className:"text-sm text-[#8B7355] mb-4",children:"Reset your pet to start over with a new companion. This action cannot be undone."}),S?e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Are you sure you want to reset your pet?"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:P,className:"px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium",children:"Yes, Reset"}),e.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg text-sm font-medium",children:"Cancel"})]})]}):e.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[e.jsx(pt,{className:"w-4 h-4"}),"Reset Pet"]})]})]})]})};function ls(){return e.jsx($t,{children:e.jsx(Rt,{children:e.jsx(Xe,{basename:"/Bookish",children:e.jsxs(ze,{children:[e.jsx(Y,{path:"/",element:e.jsx(Wt,{})}),e.jsx(Y,{path:"/welcome",element:e.jsx(Lt,{})}),e.jsx(Y,{path:"/search",element:e.jsx(zt,{})}),e.jsx(Y,{path:"/library",element:e.jsx(ns,{})}),e.jsx(Y,{path:"/book",element:e.jsx(Gt,{})}),e.jsx(Y,{path:"/reading",element:e.jsx(ss,{})}),e.jsx(Y,{path:"/notes",element:e.jsx(os,{})}),e.jsx(Y,{path:"/notes/add",element:e.jsx(rs,{})}),e.jsx(Y,{path:"/pet",element:e.jsx(is,{})}),e.jsx(Y,{path:"/stats",element:e.jsx(as,{})})]})})})})}"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()});yt.createRoot(document.getElementById("root")).render(e.jsx(p.StrictMode,{children:e.jsx(ls,{})}));
